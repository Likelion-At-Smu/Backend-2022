<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>가위바위보</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 가위바위보를 하기 위한 함수 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>  
    <script>
        //컴퓨터의 랜덤함수 - 가위=0, 바위=1, 보=2
        function comChoice(){
            var com = Math.floor(Math.random()*3);
            if (com==0){
                $('#com-img').attr("src","scissor.png");
                return 0;
            }
            else if (com==1){
                $('#com-img').attr("src", "rock.png");
                return 1;
            }

            else if (com==2){
                $('#com-img').attr("src", "paper.png");
                return 2;
            }
        }

        //결과 도출 및 사용자와 컴퓨터의 이긴 횟수 갱신을 위한 함수
        var youCount = 0;
        var comCount = 0;
        function playGame(you, com){
            document.getElementById("result").style.color = "red";
            //사용자=가위
            if (you==0){ 
                if (com==0){ //컴퓨터=가위
                    $('#result').text('--Tie--');
                }
                else if (com==1){ //컴퓨터=바위
                    $('#result').text('..Lose..');
                    comCount = comCount +1;
                    $('#com').text('Computer: ' + comCount);
                }
                else if (com==2){ //컴퓨터=보
                    $('#result').text('!!Win!!');
                    youCount = youCount+1;
                    $('#you').text('You: ' + youCount);
                }
            }
            //사용자=바위
            else if (you==1){
                if (com==0){ //컴퓨터=가위
                    $('#result').text('!!Win!!');
                    youCount = youCount+1;
                    $('#you').text('You: ' + youCount);
                }
                else if (com==1){ //컴퓨터=바위
                    $('#result').text('--Tie--');
                }
                else if (com==2){ //컴퓨터=보
                    $('#result').text('..Lose..');
                    comCount = comCount +1;
                    $('#com').text('Computer: ' + comCount);
                }
            }
            //사용자=보
            else if (you==2){
                if (com==0){ //컴퓨터=가위
                    $('#result').text('..Lose..');
                    comCount = comCount +1;
                    $('#com').text('Computer: ' + comCount);
                }
                else if (com==1){ //컴퓨터=바위
                    $('#result').text('!!Win!!');
                    youCount = youCount+1;
                    $('#you').text('You: ' + youCount);
                }
                else if (com==2){ //컴퓨터=보
                    $('#result').text('--Tie--');
                }
            }
        }
    </script>

    <!-- 기본화면 -->
    <h1>가위 바위 보!</h1>
    <h2 id="result">Good Luck!</h2>

    <section class="box">
        <div class="youbox">
            <h1 id="you">You: 0</h1>
            <img id="you-img" src="rock.png" width="120" height="120">
        </div>

        <div class="combox">
            <h1 id="com">Computer: 0</h1>
            <img id="com-img" src="rock.png"width="120" height="120">
        </div>
    </section>

    <section class="choice">
        <h3>Choose One!</h3>
        <div class="buttons">
            <button id="rock-btn" type="button"> <img src="rock.png" height ="100" width="100" /></button>
            <button id="sci-btn" type="button"> <img src="scissor.png" height ="100" width="100" /></button>
            <button id="papr-btn" type="button"> <img src="paper.png" height ="100" width="100" /></button>
        </div>
    </section>

    <!-- 함수를 이용해 게임실행 -->
    <script>
        var com = 0;
        var comCount=0;
        var youCount=0;

        $('#sci-btn').click(function(){ //사용자=가위
            $('#you-img').attr("src", "scissor.png");
            you=0;
            com = comChoice();
            playGame(you, com);
        })
        $('#rock-btn').click(function(){ //사용자=바위
            $('#you-img').attr("src", "rock.png");
            you=1;
            com = comChoice();
            playGame(you, com);
        })
        $('#papr-btn').click(function(){ //사용자=보
            $('#you-img').attr("src", "paper.png");
            you=2;
            com = comChoice();
            playGame(you, com);
        })
        
    </script>
</body>
</html>